\documentclass[notes, aspectratio=1610]{beamer}

% =================================== Colors ================================
\definecolor{base_c}{rgb}{
	0.1411764705882353, 0.6235294117647059, 0.33725490196078434
	}
\definecolor{comp_c}{rgb}{
	0.6235294117647059, 0.1411764705882353, 0.42745098039215684
	}
\definecolor{tri_1}{rgb}{
	0.33725490196078434, 0.1411764705882353, 0.6235294117647059
	}
\definecolor{tri_2}{rgb}{
	0.6235294117647059, 0.33725490196078434, 0.1411764705882353
	}
\definecolor{white}{rgb}{1,1,1}
\usepackage{color, colortbl}

% ================================ Text boxes ==============================
\usepackage[most]{tcolorbox}

% ================================ Symbols ==============================
%\usepackage{bbding}
%\usepackage{pifont}
%\usepackage{wasysym}
%\usepackage{amssymb}

% ========================= Theme =========================================
\usetheme{Berkeley}
\usecolortheme{spruce}
% \setbeamercolor{itemize item}{fg=comp_c,bg=white}
% \setbeamercolor{enumerate item}{fg=comp_c,bg=white}

% ========================= Essential packages ============================
% \usepackage{hyperref}
% \hypersetup{
%     colorlinks = false,
%     linkcolor = comp_c,
%     citecolor = tri_1,
%     filecolor = tri_2,
%     urlcolor = yellow
% }

% ========================= Frame notes systm ============================
%\usepackage{pgfpages}
%\setbeameroption{show notes on second screen}

% ========================= Plotting ======================================
\usepackage{calc}
\usepackage{tikz}
\usetikzlibrary{arrows,
                arrows.meta,
                calc,
		chains,
                quotes,
                positioning,
		shapes,
		topaths,
                shapes.geometric}
\usepackage{graphicx}
\usepackage{graphics}
\usepackage{pgfplots}
\pgfplotsset{width=7cm,compat=1.17}
\usepackage{venndiagram}
% tikz exhibits
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,fit,calc,positioning}
\tikzstyle{box} = [
	draw,
	rectangle,
	rounded corners,
	thick,
	node distance=7em,
	text width=6em,
	text centered,
	minimum height=3.5em
	]
\tikzstyle{container} = [draw, rectangle, dashed, inner sep=2em]
\tikzstyle{lineSq} = [draw, thick, -latex']
\tikzset{
	%Define standard arrow tip
	>=stealth',
	%Define style for boxes
	punkt/.style={
	       rectangle,
	       rounded corners,
	       draw=black, thick,
	       text width=8em,
	       minimum height=3em,
	       text centered},
	punkbig/.style={
		   rectangle,
		   rounded corners,
		   draw=black, thick,
		   text width=5em,
		   minimum height=5em,
		   text centered},
	punkb/.style={
		   rectangle,
		   rounded corners,
		   %draw=black, thick,
		   text width=8em,
		   minimum height=3em,
		   text centered},
	punkc/.style={
	       circle,
	       rounded corners,
	       draw=black, thick,
	       text width=1.5em,
	       minimum height=1.5em,
	       text centered},
	% Define arrow style
	pil/.style={
	       ->,
	       thick,
	       shorten <=2pt,
	       shorten >=2pt,}
}

% ============================= Network viz ===============================
\usepackage{tikz-network}

%% ============================== Tabular =================================
\usepackage{booktabs}
\usepackage{tabularx,ragged2e}
\usepackage{array}
\usepackage{multirow}
\usepackage{siunitx}
  \sisetup{detect-all}
\usepackage{adjustbox}
\usepackage{rotating}
\usepackage{threeparttable}
\usepackage[justification=centering]{caption}

%% ========================== Coding snippets =============================
% Default fixed font does not support bold face
%\usepackage{minted}
%\usemintedstyle{vs}

%% ============================= Math =====================================
\usepackage{mathtools}

% ========================= Infor on authors ==============================
\title[Network Mechanisms]
{Network Mechanisms and Network Structures}
\subtitle{The Principle of Homophily}
\author{S.~Santoni\inst{1}\inst{2}}
\institute{
	\inst{1}%
	Bayes Business School
	\and
	\inst{2}%
	Soundcloud
	}
\date{MSc in Business Analytics, 2022/23}

% ========================= TOC  ==========================================
\AtBeginSection[]
{
	\begin{frame}
		       \frametitle{Outline}
		       \tableofcontents[currentsection,currentsubsection]
	\end{frame}
}

% ========================= References ===================================
\usepackage[style=numeric,backend=biber]{biblatex}
\addbibresource{bibliography.bib}

% ========================= Document  ====================================
\begin{document}

\begin{frame}
	\titlepage
\end{frame}

\begin{frame}{Outline}
	\tableofcontents
\end{frame}

% =========================== Homework =====================================
\section{Problem Set}

\begin{frame}{Problem Set/Homework}{}
	Create the adjacency matrix behind the reporting network of a 
	multi-unit organization with the following attributes
	\begin{itemize}
		\item Ten units
		\item One manager by unit
		\item Five middle managers by unit reporting to the unit manager
		\item Ten employees reporting to each middle manager 
	\end{itemize}

	Then
	\begin{itemize}
		\item 
		Visualize the adjacency matrix of the network
		\item 
		Visualize the network
		\item 
		Get the centralization index of the network
	\end{itemize}
\end{frame}

\begin{frame}{Submitted Solutions}{}
\begin{itemize}
	\item Artem
	\item Theodor
	\item Yuanheng
	\item $\rightarrow$ ?anyone else? check Slack
\end{itemize}
\end{frame}

% =========================== Session 6 wrapup =============================
\section{Session 6 Wrap Up}

\begin{frame}
	\frametitle{Network Theories across the Various Weeks of SMM638}
	\begin{table}
		\begin{tabular}[c]{l|c|c|c|c|c|c|c|c}
			\textbf{Network theory} & 
			\textbf{2} & 
			\textbf{3} & 
			\textbf{4} & 
			\textbf{5} & 
			\textbf{6} & 
			\textbf{7} & 
			\textbf{9} & 
			\textbf{10}\\
			\hline
			Value creation &  & $\bullet$ & $\bullet$ &  &  &  &  & \\	
			Coordination &  &  &  & $\bullet$ &  &  &  & \\	
			Network change &  &  &  &  & $\bullet$ & $\bullet$ & $\bullet$ & $\bullet$\\	
			Contagion &  &  &  &  &  & $\bullet$ &  & $\bullet$ \\	
		\end{tabular}
	\end{table}
\end{frame}

\begin{frame}
	\frametitle{Groups of Network Theories}
	\centering
	\small
	\begin{table}
		\begin{center}
			\begin{tabular}[c]{l|l|l}
				% \hline
				\textbf{Underlying model} & 
				\textbf{Social capital} &
				\textbf{Social homogeneity}\\
				\hline
				\textbf{Network flow} &
				Capitalization (value creation) & 
				\cellcolor{blue!20}{\color{black}{Contagion}}  \\
				\hline
				\textbf{Network architecture} & 
				Coordination & 
				Adaptation  (network change)\\
				% \hline
			\end{tabular}
		\end{center}
	\end{table}

	\vspace{1em}

	\raggedright \small Source is~\cite[][page 47]{scott2011}
\end{frame}

\begin{frame}{Why do Network Mechanisms Matter?}{}
	\begin{enumerate}
		\item Network mechanisms can explain why networks look how 
		they look!
		\item If we know the network mechanisms, we can predict the
		evolution of a network. E.g.,
		\begin{itemize}
			\item 
			Who will pay attention to which market offers
			\item 
			Who will date whom
			\item 
			Who will adopt or reject whom's opinion
		\end{itemize}
	\end{enumerate}
\end{frame}

\begin{frame}
	\frametitle{What Are We Trying to Achieve in Sessions 6 and 7?}
	\begin{table}
		\begin{tabular}[c]{l|c|c|c|c|c|c|c|c}
			\textbf{Network theory} & 
			\textbf{2} & 
			\textbf{3} & 
			\textbf{4} & 
			\textbf{5} & 
			\textbf{6} & 
			\textbf{7} & 
			\textbf{9} & 
			\textbf{10}\\
			\hline
			Value creation &  & $\bullet$ & $\bullet$ &  &  &  &  & \\	
			Coordination &  &  &  & $\bullet$ &  &  &  & \\	
			Network change &  &  &  &  & $\bullet$ & $\bullet$ & $\bullet$ & $\bullet$\\	
			Contagion &  &  &  &  &  & $\bullet$ &  & $\bullet$ \\	
		\end{tabular}
	\end{table}

	\pause

	\begin{itemize}
		\item In session 6, we tried to discover the 
		mixture of network 
		mechanisms accounting for Soundcloud's network structure
		\pause
		\item In today's session, we will learn how to quantify a key 
		network mechanism and will connect it to the problem 
		of contagion (critically important to explain offering 
		popularity in markets)
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{A Real-World Example: The Soundcloud Networks}
	\begin{columns}
		\begin{column}{0.55\textwidth}
			\begin{figure}[!htbp]
				\begin{tikzpicture}[scale=0.9, transform shape, multilayer=3d]
				  %% separation between Layers
				  \SetLayerDistance{-4.5}
				  %% layer for activities
				  \begin{Layer}[layer=1]
				    %% plane
				    \Plane[x = 0, y = 0, width = 3, height = 6, layer = 1,
				      color = white, opacity = 0, style = {thick, gray}];
				    %% label
				    \node at (0, 3) [above right] {Offerings};
				  \end{Layer}
				  %% layer for actors
				  \begin{Layer}[layer=2]
				    \Plane[x = 0, y = 0, width = 3, height = 6, layer = 2,
				      color = white, opacity = 0, style = {thick, gray}];
				    %% plane
				    \node at (0, 0) [below right] {Followership network};
				  \end{Layer}
				  %% vertices
				  \Vertices{data/soundcloud_vertices.csv}
				  %% edges
				  \Edges{data/soundcloud_edges.csv}
				\end{tikzpicture}
			      \end{figure}
		\end{column}
		\begin{column}{0.4\textwidth}
			\begin{small}

			Some key general points emerging from the analysis of the 
			Soundcloud example:
			\begin{itemize}
				\item
				The same pair of nodes can be connected 
				because of multiple relationships (i.e., `like,'
				`repost,' `comment')
				\item 
				The nodes of a network may have the 
				same type (e.g., `following') or 
				different types (e.g., `like')
				\item Analytically separated networks may be 
				correlated (e.g., one tends to like her/his 
				followings' likes)
			\end{itemize}

			\end{small}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}{Network Mechanisms in the Followership Network}{Popularity effects}
	\begin{columns}[t]
		\begin{column}{0.5\textwidth}
			\centering 
			\textbf{Indegree popularity}
			
			\input{images/indegree_pop.pgf}

			\raggedright
			\small
			\textit{Synopsis:} certain nodes may develop a cumulative 
			advantage --- a so-called rich-get-richer effect
		\end{column}
		\begin{column}{0.5\textwidth}
			\centering 
			\textbf{Outdegree popularity}
			
			\input{images/outdegree_pop.pgf}

			\raggedright
			\small
			\textit{Synopsis:} certain nodes may develop a tendency 
			to connect with many others
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}{Network Mechanisms in the Followership Network}{Reciprocity effect}
	\centering 
	\input{images/reciprocity.pgf}

	\raggedright
	\small 
	\textit{Synopsis:} pairs of nodes may show a tendency to follow each 
	other --- that is, to reciprocate each other's following choice 
\end{frame}

\begin{frame}{Network Mechanisms in the Followership Network}{Triadic closure}
	\centering 
	\input{images/triadic_closure.pgf}

	\small
	\textit{Synopsis:} ``My following's following is my following'' 
\end{frame}

\begin{frame}{Network Mechanisms in the Followership Network}{Balance}
	\centering 
	\input{images/balance.pgf}

	\small 
	\textit{Synopsis:} Pairs of (connected or disconnected) nodes may 
	show the tendency to share `followings'
\end{frame}

\begin{frame}{Cross-Level Effects: From Following to Taste and Back}
	{Membership closure}
	\centering
	\input{images/memberhip_closure.pgf}

	\raggedright
	\small 
	\textit{Synopsis:} $1$ introduces $0$ to music style $B$;
        $\{A, B\}$ is the set of music styles; $\{0, 1\}$ is
	the set of users; `vertical' ties can be intended as a bipartite 
	graph linking users and music styles via `likes,' `comments,' or
	`reposts' (mainly, user preferences); dashed arrows denote ties 
	at risk to emerge based on membership closure
\end{frame}

\begin{frame}{Cross-Level Effects: From Following to Preferences and Back}
	{Focal closure}
	\centering
	\input{images/focal_closure.pgf}

	\raggedright
	\small
	\textit{Synopsis:} $0$ follows $1$ because of shared taste/preferences; 
	$\{A, B\}$ is the set of music styles; $\{0, 1\}$ is
	the set of users; `vertical' ties can be intended as a bipartite 
	graph linking users and music styles via `likes,' `comments,' or
	`reposts'; dashed arrows denote ties at risk to emerge based on 
	focal closure 
\end{frame}


% =================== Network mechanisms, part II ===========================

\section{Network Mechanisms and Network Structure}

\subsection{The Principle of Homophily}

\begin{frame}{Let Us Get Back to the Fundamental Question}{}
\centering
\Large 
Why do networks look how they look?
\end{frame}

\begin{frame}{A Possible Answer: Homophily}{}
	\begin{columns}
		\begin{column}{0.5\textwidth}
		\begin{itemize}
			\item 
			According to the homophily principle, similarity breeds 
			connection
			\pause 
			\item 
			Hence, networks are homogeneous concerning:
			\begin{itemize}
				\item 
				Sociodemographic variables (e.g., age)
			 	\item 
				Reference social categories (e.g., being a knowledge worker)
				\item 
				Behaviors (e.g., purchasing choices)
			\end{itemize}
		\end{itemize}
		\end{column}
		\begin{column}{0.5\textwidth}
			\includegraphics[width=1\textwidth]{images/birds_of_a_feather.jpeg}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}{Theoretical Background}{}
	\centering
	\includegraphics[width=0.5\textwidth]{images/mcpherson_et_al.png}

	\small
	Source is \cite{mcpherson2001}
\end{frame}

\begin{frame}{Homophily in Practice: Example 1}
	{Friendship and racial segregation in an American high-school}
	\centering 
	\includegraphics[width=0.75\textwidth]{images/moody_2001.png}

	\raggedright
	\small
	Source is \cite{moody_2001}; nodes are color-coded to reflect 
	student racial background; ties denote friendship between pairs 
	of nodes
\end{frame}

\begin{frame}{Homophily in Practice: Example 2}
	{Discovering cultural similarity is key for tie formation in speed dating}
	\begin{columns}[t]
		\begin{column}{0.5\textwidth}
			\centering
			\includegraphics[width=0.7\textwidth]{images/mcfarland_et_al.png}

			\footnotesize
			Source is \cite{mcfarland2013}
		\end{column}
		\begin{column}{0.5\textwidth}
			\centering
			\includegraphics[width=0.7\textwidth]{images/romantic_relation.jpg}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}{Homophily in Practice: Example 3}
	{Executives ask for advice from similar others in difficult times}
	\centering
	\includegraphics[width=0.8\textwidth]{images/mcdonald_westphal.png}

	\footnotesize
	Source is \cite{mcdonald2013}
\end{frame}

\begin{frame}{When Does a Network Exhibit Homophily?}{}
	\centering 
	\includegraphics[width=0.6\textwidth]{images/fig_4_2.png}

	\footnotesize
	\textit{Notes:} --- Nodes are color-coded concerning a key 
	relevant attribute (e.g., gender)
\end{frame}

%\begin{frame}{There Are Two Families of Homophily Measures}{}
%	\begin{columns}
%		\begin{column}{0.5\textwidth}
%			\centering 
%			\textbf{Network-level measures}
%
%			\includegraphics[width=0.7\textwidth]{images/newman_2003.png}
%
%			Source is ...
%
%		\end{column}
%		\begin{column}{0.5\textwidth}
%			\centering 
%			\textbf{Dyadic-level measures}
%			
%			\includegraphics[width=0.7\textwidth]{images/ertug_et_al_2018.png}
%
%			Source is ... 
%		\end{column}
%	\end{columns}
%\end{frame}

\begin{frame}{A Simple Homophily Measure Based on Frequencies}{Intuition}
	Let us consider `gender' as the key feature of nodes: what would 
	it mean for a network not to exhibit homophily?
	\begin{itemize}
		\item 
		The proportion of male and female friends that a person has 
		resembles the underlying male/female distribution in the full 
		population
		\pause 
		\item 
		In other words, ``if we were to randomly assign each node a 
		gender according to the gender balance in the real network, then 
		the number of cross-gender edges should not change 
		significantly relatively to what is seen in the real network''
	\end{itemize}

Source is 
\end{frame}

\begin{frame}{A Simple Homophily Measure Based on Frequencies}
	{The formal representation}
	Let's consider a network containing a fraction $p$ of male nodes ($m$) 
	and a fraction $q$ of female nodes ($f$), and denote the link between 
	nodes $i$ and $j$ as $e_{i,j}$.

	\vspace{2em}
	
	The no-homophily hypothesis implies what follows:
	\begin{enumerate}
	\item $pr(e_{ij} \ | \ i = m, \ j = m) = p * p$
	\item $pr(e_{ij} \ | \ i = f, \ j = f) = q * q$
	\item $pr(e_{ij} \ | \ i = m, \ j = f) = p * q$
	\item $pr(e_{ij} \ | \ i = f, \ j = m) = q * p$
	\end{enumerate}

	\vspace{2em}

	If the proportion of male-female ties deviates from $2*(p*q)$, then there is evidence of homophily in the network.

\end{frame}

\subsection{Homophily: Selection and Socialization}

\begin{frame}{Mechanisms Underlying the Homophily Principle}{}
	There are two mechanisms through which homophily affects tie formation:
	
	\begin{itemize}
	\item \textbf{Selection:} individual bond with others they perceive `similar' on 
	salient dimensions
	\item \textbf{Socialization:} individuals that directly, closely, frequently 
	interact with each other become more and more `similar'
	\end{itemize}

	\vspace{1em}

\small \textit{Note:} The relative strength of `selection' and `socialization' largely 
depends on the attributes individuals use to assess interpersonal similarity. 
Socialization does not operate for fixed demographic factors, whereas it 
plays a central role when attitudes or behavior are used as a basis for similarity 
\end{frame}

\begin{frame}{Mechanisms Underlying the Homophily Principle}{The socialization mechanism}
	\centering 

	\small Probability to become a member of a community $i$ when $k$ friends 
	are already part

	\includegraphics[width=0.65\textwidth]{images/membership_closure.png}

	\footnotesize Source is \cite{kossinets2009}
\end{frame}

\begin{frame}{Mechanisms Underlying the Homophily Principle}{The selection mechanism}
	\centering 

	\small Probability of inter-personal link formation when two members 
	share $k$ classes

	\includegraphics[width=0.7\textwidth]{images/focal_closure.png}

	\footnotesize Source is \cite{kossinets2009}
\end{frame}

\begin{frame}{Mechanisms Underlying the Homophily Principle}{The interaction 
	between selection and socialization}
	\centering 

	\small Similarity of two Wikipedia contributors' edits before and after 
	the formation of an inter-personal link

	\includegraphics[width=0.5\textwidth]{images/selection_and_socialization.png}

	\footnotesize Source is \cite{easley2010}
\end{frame}

\begin{frame}{A Thought Experiment}{}
	\centering
	\Large
	How does a network with homophily look like?

	\pause 

	\vspace{2em}

	A small-world network you say?!

	\vspace{2em}

	\pause

	Cool! Let's see how homophily relates to diffusion then!!
\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{}
	
	The adoption of new ideas, styles, technologies, products, or, in 
	general behaviors, is subject to direct-benefit effects
	
	\begin{itemize}
		\item 
		The benefits to `ego' of adopting a new behavior increase as 
		more and more `neighbors' adopt it
		\item 
		The implication is that an individual adopts a certain 
		behavior once a sufficient proportion of her/his neighbors 
		have done so
		\begin{itemize}
			\item 
			For example, you may find it easier to collaborate 
			with co-workers, if you are using compatible technologies
		\end{itemize}
	\end{itemize}

\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{A networked coordination game}
	\begin{itemize}
		\item We will study a situation in which each node has a choice between two possible behaviors, labeled $A$ and $B$
		\item If nodes $v$ and $w$ are linked by an edge, then there is an incentive for them to have their behaviors match
		\item If $v$ and $w$ both adopt behavior $A$, they each get a payoff of $a > 0$
		\item If they both adopt $B$, they each get a payoff of $b > 0$
		\item If they adopt opposite behaviors, they each get a payoff of $0$
		\item Each node $v$ is playing a copy of this game with each of its neighbors, and its payoff is the sum of its payoffs in the games played on each edge
	\end{itemize}

	\footnotesize Source is \cite{easley2010}
\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{Solution to the game}
	\begin{itemize}
		\item 
		The basic question faced by $v$ will be the following: suppose that some of its neighbors adopt $A$, and some adopt $B$; what should $v$ do in order to maximize its payoff?
		\item 
		Suppose that a $p$ fraction of $v$'s neighbors have behavior $A$, and a ($1 - p)$ fraction have behavior $B$
		\begin{itemize}
			\item 
			If $v$ has $d$ neighbors, then $pd$ adopt $A$ and $(1 − p)d$ adopt $B$
			\item 
			If $v$ chooses $A$, it gets a payoff of $pda$, and if it chooses $B$, it gets a payoff of $(1 − p)db$
		\end{itemize}
		\item $A$ is the better choice if:
		
		\begin{equation}
			pda \geq (1-p)db
		\end{equation}
		
		that is,
		
		\begin{equation}
			p \geq \frac{b}{a + b}
		\end{equation}
	\end{itemize}
\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{Solution to the game}
	\centering
	\includegraphics[width=0.7\textwidth]{images/solution}
\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{Cascades of adoption}
	\centering
	\includegraphics[width=0.7\textwidth]{images/underlying_net.png}
\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{Intermediate equilibrium}
	\centering
	\includegraphics[width=0.55\textwidth]{images/intermediate_equilibrium.png}
\end{frame}

\begin{frame}{Modeling Diffusion through Networks}{The role of homophily and communities}
	\centering
	\includegraphics[width=0.8\textwidth]{images/communities_and_diffusion.png}
\end{frame}

% ============================ Bibliography =================================
\begin{frame}
	\frametitle{References}
	\printbibliography
 \end{frame} 

% =========================== Document end ================================== 
\end{document}